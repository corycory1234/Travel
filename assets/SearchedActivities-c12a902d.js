import{_ as j,l as V,s as $,r as v,v as x,u as D,x as T,b as n,c as d,j as a,i as c,d as e,F as m,e as q,f as y,y as z,z as G,N as U,B as E,w as u,h,n as R,M as H,G as J,q as K,p as O,k as Q,g as W}from"./index-9cee7dff.js";import{P as X}from"./Pagination-1c01bf50.js";import{N as Y}from"./NotFound-956dc176.js";const A=i=>(O("data-v-ef1919b7"),i=i(),Q(),i),Z={key:0,class:"container my-5"},ee=A(()=>e("div",null,[e("h3",{class:"h5 fw-bold"},[e("i",{class:"bi bi-caret-up-fill triangle me-2"}),W("熱門活動")])],-1)),te={class:"row gx-3"},se=["onClick"],ae={class:"card h-100 border-0 shadow"},oe={class:"row"},ce={class:"col-5"},ne={class:"activity-card-pic p-2"},ie=["src","alt"],le={class:"col-7"},re={class:"row flex-column justify-content-between"},de={class:"card-body pe-4"},_e={class:"col mt-3"},ve={class:"fw-bold text-truncate"},ue={class:"col d-none d-sm-block"},he={class:"activity-card-content truncate"},ge={class:"col mb-2"},pe={class:"d-flex flex-lg-row justify-content-lg-between align-items-lg-center flex-column"},fe={class:"bi bi-geo-alt-fill me-1 location text-truncate"},be={class:"text-dark fw-bold px-2"},Pe=["onClick"],xe=["onClick"],me=A(()=>e("div",{class:"d-flex justify-content-between align-items-center",style:{width:"280px"}},[e("div",{class:"loading loading-triangle"}),e("div",{class:"loading loading-square"}),e("div",{class:"loading loading-circle"})],-1)),ye={__name:"SearchedActivities",setup(i){const g=V(),{getAllActivities:Ae,search:ke,getAssetUrl:k}=g,{getAllActivitiesArr:we,allActivitiesArr:Se,searchedArr:l,keyword:Ce,eachPageLength:w,isLoading:S}=$(g),p=v(null),f=s=>{p.value.openModal(s)},o=v(1),r=v(20),b=x(()=>{const s=(o.value-1)*r.value,P=s+r.value;return l.value.slice(s,P)}),C=()=>o.value-=1,F=()=>o.value+=1,N=s=>{o.value=1,o.value=s},L=x(()=>Math.ceil(l.value.length/r.value)),M=D(),I=s=>{s.isFavorite=!s.isFavorite};return(s,P)=>{const B=T("Loading");return n(),d(m,null,[a(U),a(E),c(l).length>0?(n(),d("div",Z,[ee,e("div",te,[(n(!0),d(m,null,q(b.value,(t,Fe)=>(n(),d("div",{key:t.ActivityID,class:"col-12 col-lg-6 mb-3",onClick:u(_=>f(t),["prevent"])},[e("div",ae,[e("div",oe,[e("div",ce,[e("div",ne,[e("img",{src:t.Picture.PictureUrl1||c(k),alt:t.location},null,8,ie)])]),e("div",le,[e("div",re,[e("div",de,[e("div",_e,[e("h6",ve,h(t.ActivityName),1)]),e("div",ue,[e("p",he,h(t.Description),1)]),e("div",ge,[e("div",pe,[e("i",fe,[e("span",be,h(t.Location),1),e("i",{class:R(["heart",{"bi bi-heart":!t.isFavorite,"bi bi-heart-fill":t.isFavorite}]),onClick:[u(_=>c(M).getFavorite(t),["stop"]),_=>I(t)]},null,10,Pe)]),e("button",{class:"btn btn-outline-danger subtitle-1 text-truncate d-none d-lg-block",onClick:u(_=>f(t),["prevent"])}," 活動詳情 ",8,xe)])])])])])])])],8,se))),128))]),a(X,{searchedArr:c(l),itemsPerPage:r.value,currentPage:o.value,totalPages:L.value,eachPageLength:c(w),onPrevPage:C,onNextPage:F,onChangePage:N},null,8,["searchedArr","itemsPerPage","currentPage","totalPages","eachPageLength"])])):y("",!0),a(H,{ref_key:"refActivitiesModal",ref:p},null,512),b.value.length?y("",!0):(n(),z(Y,{key:1})),a(J),a(K),a(B,{active:c(S)},{default:G(()=>[me]),_:1},8,["active"])],64)}}},Ie=j(ye,[["__scopeId","data-v-ef1919b7"]]);export{Ie as default};
