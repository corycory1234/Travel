import{_ as j,l as q,s as V,r as v,v as x,u as $,x as D,b as n,c as d,j as a,i as c,d as e,F as m,e as T,f as y,y as z,z as G,N as R,B as U,w as u,h,n as E,M as H,G as J,q as K,p as O,k as Q,g as W}from"./index-7be5273a.js";import{P as X}from"./Pagination-5f584b04.js";import{N as Y}from"./NotFound-1374503f.js";const k=l=>(O("data-v-4ec19bb6"),l=l(),Q(),l),Z={key:0,class:"container my-5"},ee=k(()=>e("div",null,[e("h3",{class:"h5"},[e("i",{class:"bi bi-square-fill square me-2"}),W("美食")])],-1)),te={class:"row gx-3"},se=["onClick"],ae={class:"card h-100 border-0 shadow"},oe={class:"row"},ce={class:"col-5"},ne={class:"activity-card-pic p-2"},le=["src","alt"],ie={class:"col-7"},re={class:"card-body pe-4"},de={class:"row flex-column justify-content-between"},_e={class:"col mt-3"},ve={class:"fw-bold text-truncate"},ue={class:"col d-none d-sm-block"},he={class:"activity-card-content truncate"},ge={class:"col mb-2"},pe={class:"d-flex flex-lg-row justify-content-lg-between align-items-lg-center flex-column"},be={class:"bi bi-geo-alt-fill location text-truncate"},fe={class:"text-dark fw-bold px-2"},Pe=["onClick"],xe=["onClick"],me=k(()=>e("div",{class:"d-flex justify-content-between align-items-center",style:{width:"280px"}},[e("div",{class:"loading loading-triangle"}),e("div",{class:"loading loading-square"}),e("div",{class:"loading loading-circle"})],-1)),ye={__name:"SearchedFoods",setup(l){const g=q(),{getAllActivities:ke,search:we,getAssetUrl:w}=g,{getAllActivitiesArr:Ae,allActivitiesArr:Fe,searchedArr:i,keyword:Ce,eachPageLength:A,isLoading:F}=V(g),p=v(null),b=s=>{p.value.openModal(s)},o=v(1),r=v(20),f=x(()=>{const s=(o.value-1)*r.value,P=s+r.value;return i.value.slice(s,P)}),C=()=>o.value-=1,S=()=>o.value+=1,N=s=>{o.value=1,o.value=s},M=x(()=>Math.ceil(i.value.length/r.value)),I=$(),L=s=>{s.isFavorite=!s.isFavorite};return(s,P)=>{const B=D("Loading");return n(),d(m,null,[a(R),a(U),c(i).length>0?(n(),d("div",Z,[ee,e("div",te,[(n(!0),d(m,null,T(f.value,(t,Se)=>(n(),d("div",{key:t.ActivityID,class:"col-12 col-lg-6 mb-3",onClick:u(_=>b(t),["prevent"])},[e("div",ae,[e("div",oe,[e("div",ce,[e("div",ne,[e("img",{src:t.Picture.PictureUrl1||c(w),alt:t.location},null,8,le)])]),e("div",ie,[e("div",re,[e("div",de,[e("div",_e,[e("h6",ve,h(t.RestaurantName),1)]),e("div",ue,[e("p",he,h(t.Description),1)]),e("div",ge,[e("div",pe,[e("i",be,[e("span",fe,h(t.City),1),e("i",{class:E(["heart",{"bi bi-heart":!t.isFavorite,"bi bi-heart-fill":t.isFavorite}]),onClick:[u(_=>c(I).getFavorite(t),["stop"]),_=>L(t)]},null,10,Pe)]),e("button",{class:"btn btn-outline-danger subtitle-1 text-truncate d-none d-lg-block",onClick:u(_=>b(t),["prevent"])}," 店家資訊 ",8,xe)])])])])])])])],8,se))),128))]),a(X,{searchedArr:c(i),itemsPerPage:r.value,currentPage:o.value,totalPages:M.value,eachPageLength:c(A),onPrevPage:C,onNextPage:S,onChangePage:N},null,8,["searchedArr","itemsPerPage","currentPage","totalPages","eachPageLength"])])):y("",!0),a(H,{ref_key:"refActivitiesModal",ref:p},null,512),f.value.length?y("",!0):(n(),z(Y,{key:1})),a(J),a(K),a(B,{active:c(F)},{default:G(()=>[me]),_:1},8,["active"])],64)}}},Le=j(ye,[["__scopeId","data-v-4ec19bb6"]]);export{Le as default};
